/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";let e=["Sample List","cool list"],t=[{list:"Sample List",todo:"This is a todo",dateAdd:"4/29/2021",dateComp:"N/A",priority:"Normal",notes:"This is a note"}];const o=document.getElementById("notes-text"),n=document.getElementById("date-added-text"),i=document.getElementById("date-completed-text"),l=document.getElementById("priority-button");let s;console.log("index.js test"),(()=>{const d=document.querySelector(".sidebar-section"),r=document.getElementById("sidebar-list-view");document.querySelector(".sidebar-add");let c="off";document.addEventListener("click",(e=>{if(e.target.matches(".sidebar-add")&&"off"==c){console.log("add");const e=document.createElement("input");Object.assign(e,{className:"input-box",maxlength:"20",id:"new-list-input",type:"text",placeholder:"New List"}),d.appendChild(e),e.focus(),e.onblur=()=>{e.remove(),c="off"},c="on",a()}else e.target.matches(".sidebar-add")&&"on"==c&&(document.getElementById("new-list-input").remove(),c="off")}));const a=()=>{const e=document.getElementById("new-list-input");e.addEventListener("keydown",(t=>{13===t.keyCode&&""!=e.value&&(console.log("enter create new list"),c="off",m(),y(e.value),e.remove())}))},m=()=>{const t=document.getElementById("new-list-input");console.log("input list value "+t.value),console.log(t.value),e.push(t.value),console.log(e)};document.addEventListener("click",(e=>{e.target.matches(".sidebar-list")&&(u(e.target),(()=>{console.log("filling liffst");let e=[];const d=document.querySelector(".selected-list").innerHTML,r=document.getElementById("inner-active-list");e=t.filter((function(e){if(e.list==d)return!0})),r.innerHTML="",e.forEach((e=>{(e=>{let t=r.firstChild;const o=document.createElement("button");o.textContent=e.todo,o.classList.add("item"),o.classList.add(`${e.priority.toLowerCase()}-priority`),r.insertBefore(o,t)})(e)})),r.firstChild.classList.add("selected-item"),t.find((e=>{const t=document.querySelector(".selected-item").innerHTML;console.log("current todo "+t),e.todo==t&&(console.log(e),s=e,o.innerHTML=e.notes,n.innerHTML=`Date Added: ${e.dateAdd}`,i.innerHTML=`Date Completed: ${e.dateComp}`,l.textContent=e.priority,l.className=`${e.priority.toLowerCase()}-priority`)}))})())}));const u=e=>{const t=document.querySelector(".selected-list");p(t,e),console.log("select list")},p=(e,t)=>{null==e||e.classList.remove("selected-list"),t.classList.add("selected-list")},y=e=>{const t=document.createElement("p");t.classList.add("sidebar-list"),r.appendChild(t),t.innerHTML=e,console.log("listactions")};e.forEach((e=>{y(e)})),r.firstElementChild.classList.add("selected-list")})(),(()=>{document.addEventListener("dblclick",(e=>{e.target.matches(".inactive")?(e.target.classList.remove("inactive"),console.log("unmark"),a()):e.target.matches(".item")&&(e.target.classList.add("inactive"),console.log("mark as done"),a())})),(()=>{const n=document.getElementById("new-todo-input");n.addEventListener("keydown",(e=>{13===e.keyCode&&""!=n.value&&(console.log("enter1 create new todo"),i(),l(),c())})),document.addEventListener("click",(e=>{e.target.matches("#add-item-button-icon")&&""!=n.value&&(console.log("click create new todo"),i(),l(),c())}));const i=()=>{const e=document.getElementById("inner-active-list");let t=e.firstChild;const i=document.createElement("button");i.textContent=n.value,i.classList.add("item"),i.classList.add("normal-priority"),e.insertBefore(i,t),o(i)},l=()=>{const o=document.querySelector(".selected-list").innerHTML;console.log("input value "+n.value),((o,n,i,l,s,d)=>{const r=((e,t,o,n,i,l)=>({list:e,todo:t,dateAdd:o,dateComp:"N/A",priority:"Normal",notes:""}))(o,n,(new Date).toLocaleDateString());t.push(r),console.table(t),-1==e.indexOf(o)&&e.push(r.list)})(o,n.value),n.value=""}})(),document.addEventListener("click",(e=>{e.target.matches(".item")&&(o(e.target),c())}));const o=e=>{n(document.querySelector(".selected-item"),e),console.log("select")};function n(e,t){null==e||e.classList.remove("selected-item"),t.classList.add("selected-item")}const i=document.getElementById("notes-text"),l=document.getElementById("date-added-text"),s=document.getElementById("date-completed-text"),d=document.getElementById("priority-button");let r;const c=()=>{t.find((e=>{const t=document.querySelector(".selected-item").innerHTML;console.log("current todo "+t),e.todo==t&&(console.log(e),r=e,i.innerHTML=e.notes,l.innerHTML=`Date Added: ${e.dateAdd}`,s.innerHTML=`Date Completed: ${e.dateComp}`,d.textContent=e.priority,d.className=`${e.priority.toLowerCase()}-priority`)}))},a=()=>{t.find((e=>{const t=document.querySelector(".selected-item").innerHTML;console.log("current todo "+t),e.todo==t&&"N/A"==e.dateComp?(s.innerHTML=`Date Completed: ${(new Date).toLocaleDateString()}`,e.dateComp=(new Date).toLocaleDateString()):e.todo==t&&"N/A"!=e.dateComp&&(s.innerHTML="Date Completed: N/A",e.dateComp="N/A")}))},m=(e,t,o,n,i)=>{const l=document.querySelector(".selected-item");l.innerHTML,d.textContent=e,d.className=t,l.classList.remove(o),l.classList.add(n),i.priority=e};d.onclick=()=>{console.log("set priority"),t.find((e=>{const t=document.querySelector(".selected-item").innerHTML;e.todo==t&&("Normal"==e.priority?m("Important","important-priority-button","normal-priority","important-priority",e):"Important"==e.priority?m("Low","low-priority-button","important-priority","low-priority",e):"Low"==e.priority&&m("Normal","normal-priority-button","low-priority","normal-priority",e))}))},i.onblur=()=>{r.notes=i.innerHTML},(()=>{console.log("filling liffst");let e=[];const o=document.querySelector(".selected-list").innerHTML,i=document.getElementById("inner-active-list");e=t.filter((function(e){if(e.list==o)return!0})),e.forEach((e=>{(e=>{let t=i.firstChild;const o=document.createElement("button");o.textContent=e.todo,o.classList.add("item"),o.classList.add(`${e.priority.toLowerCase()}-priority`),i.insertBefore(o,t)})(e)})),n(null,i.firstChild),c()})()})()})();