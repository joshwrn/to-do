/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";let t=["Sample List","cool list"],e=[{list:"Sample List",todo:"This is a todo",dateAdd:"4/29/2021",dateComp:"N/A",priority:"Normal",notes:"This is a note"}];console.log("index.js test"),(()=>{const e=document.getElementById("sidebar-list-view");document.addEventListener("click",(t=>{t.target.matches(".sidebar-list")&&o(t.target)}));const o=t=>{const e=document.querySelector(".selected-list");n(e,t),console.log("select list")},n=(t,e)=>{null==t||t.classList.remove("selected-list"),e.classList.add("selected-list")};t.forEach((t=>{(t=>{const o=document.createElement("p");o.classList.add("sidebar-list"),e.appendChild(o),o.innerHTML=t,console.log("listactions")})(t)})),e.firstElementChild.classList.add("selected-list")})(),(()=>{document.addEventListener("dblclick",(t=>{t.target.matches(".inactive")?(t.target.classList.remove("inactive"),console.log("unmark"),a()):t.target.matches(".item")&&(t.target.classList.add("inactive"),console.log("mark as done"),a())})),(()=>{const n=document.getElementById("new-todo-input");n.addEventListener("keydown",(t=>{13===t.keyCode&&""!=n.value&&(console.log("enter1 create new todo"),i(),l(),d())})),document.addEventListener("click",(t=>{t.target.matches("#add-item-button-icon")&&""!=n.value&&(console.log("click create new todo"),i(),l(),d())}));const i=()=>{const t=document.getElementById("inner-active-list");let e=t.firstChild;const i=document.createElement("button");i.textContent=n.value,i.classList.add("item"),i.classList.add("normal-priority"),t.insertBefore(i,e),o(i)},s=document.querySelector(".selected-list").innerHTML,l=()=>{console.log("input value "+n.value),((o,n,i,s,l,r)=>{const c=((t,e,o,n,i,s)=>({list:t,todo:e,dateAdd:o,dateComp:"N/A",priority:"Normal",notes:""}))(o,n,(new Date).toLocaleDateString());e.push(c),console.table(e),-1==t.indexOf(o)&&t.push(c.list)})(s,n.value),n.value=""}})(),document.addEventListener("click",(t=>{t.target.matches(".item")&&(o(t.target),d())}));const o=t=>{n(document.querySelector(".selected-item"),t),console.log("select")};function n(t,e){null==t||t.classList.remove("selected-item"),e.classList.add("selected-item")}const i=document.getElementById("notes-text"),s=document.getElementById("date-added-text"),l=document.getElementById("date-completed-text"),r=document.getElementById("priority-button");let c;const d=()=>{e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;console.log("current todo "+e),t.todo==e&&(console.log(t),c=t,i.innerHTML=t.notes,s.innerHTML=`Date Added: ${t.dateAdd}`,l.innerHTML=`Date Completed: ${t.dateComp}`,r.textContent=t.priority,r.className=`${t.priority.toLowerCase()}-priority`)}))},a=()=>{e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;console.log("current todo "+e),t.todo==e&&"N/A"==t.dateComp?(l.innerHTML=`Date Completed: ${(new Date).toLocaleDateString()}`,t.dateComp=(new Date).toLocaleDateString()):t.todo==e&&"N/A"!=t.dateComp&&(l.innerHTML="Date Completed: N/A",t.dateComp="N/A")}))},m=(t,e,o,n,i)=>{const s=document.querySelector(".selected-item");s.innerHTML,r.textContent=t,r.className=e,s.classList.remove(o),s.classList.add(n),i.priority=t};r.onclick=()=>{console.log("set priority"),e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;t.todo==e&&("Normal"==t.priority?m("Important","important-priority-button","normal-priority","important-priority",t):"Important"==t.priority?m("Low","low-priority-button","important-priority","low-priority",t):"Low"==t.priority&&m("Normal","normal-priority-button","low-priority","normal-priority",t))}))},i.onblur=()=>{c.notes=i.innerHTML},(()=>{let t=[];const o=document.querySelector(".selected-list").innerHTML,i=document.getElementById("inner-active-list");t=e.filter((function(t){if(t.list==o)return!0})),t.forEach((t=>{(t=>{let e=i.firstChild;const o=document.createElement("button");o.textContent=t.todo,o.classList.add("item"),o.classList.add(`${t.priority.toLowerCase()}-priority`),i.insertBefore(o,e)})(t)})),n(null,i.firstChild),d()})()})()})();