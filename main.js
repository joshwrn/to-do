/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";let t=["Sample List"],e=[{list:"Sample List",todo:"This is a todo",dateAdd:"4/29/2021",dateComp:"N/A",priority:"Normal",notes:"This is a note"}];console.log("index.js test"),(()=>{document.addEventListener("dblclick",(t=>{t.target.matches(".inactive")?(t.target.classList.remove("inactive"),console.log("unmark"),a()):t.target.matches(".item")&&(t.target.classList.add("inactive"),console.log("mark as done"),a())})),(()=>{const n=document.getElementById("new-todo-input");n.addEventListener("keydown",(t=>{13===t.keyCode&&""!=n.value&&(console.log("enter1 create new todo"),i(),l(),c())})),document.addEventListener("click",(t=>{t.target.matches("#add-item-button-icon")&&""!=n.value&&(console.log("click create new todo"),i(),l(),c())}));const i=()=>{const t=document.getElementById("inner-active-list");let e=t.firstChild;const i=document.createElement("button");i.textContent=n.value,i.classList.add("item"),i.classList.add("normal-priority"),t.insertBefore(i,e),o(i)},r=document.querySelector(".selected-list").innerHTML,l=()=>{console.log("input value "+n.value),((o,n,i,r,l,d)=>{const s=((t,e,o,n,i,r)=>({list:t,todo:e,dateAdd:o,dateComp:"N/A",priority:"Normal",notes:""}))(o,n,(new Date).toLocaleDateString());e.push(s),console.table(e),-1==t.indexOf(o)&&t.push(s.list)})(r,n.value),n.value=""}})(),document.addEventListener("click",(t=>{t.target.matches(".item")&&(o(t.target),c())}));const o=t=>{n(document.querySelector(".selected-item"),t),console.log("select")};function n(t,e){null==t||t.classList.remove("selected-item"),e.classList.add("selected-item")}const i=document.getElementById("notes-text"),r=document.getElementById("date-added-text"),l=document.getElementById("date-completed-text"),d=document.getElementById("priority-button");let s;const c=()=>{e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;console.log("current todo "+e),t.todo==e&&(console.log(t),s=t,i.innerHTML=t.notes,r.innerHTML=`Date Added: ${t.dateAdd}`,l.innerHTML=`Date Completed: ${t.dateComp}`,d.textContent=t.priority,d.className=`${t.priority.toLowerCase()}-priority`)}))},a=()=>{e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;console.log("current todo "+e),t.todo==e&&"N/A"==t.dateComp?(l.innerHTML=`Date Completed: ${(new Date).toLocaleDateString()}`,t.dateComp=(new Date).toLocaleDateString()):t.todo==e&&"N/A"!=t.dateComp&&(l.innerHTML="Date Completed: N/A",t.dateComp="N/A")}))},m=(t,e,o,n,i)=>{const r=document.querySelector(".selected-item");r.innerHTML,d.textContent=t,d.className=e,r.classList.remove(o),r.classList.add(n),i.priority=t};d.onclick=()=>{console.log("set priority"),e.find((t=>{const e=document.querySelector(".selected-item").innerHTML;t.todo==e&&("Normal"==t.priority?m("Important","important-priority-button","normal-priority","important-priority",t):"Important"==t.priority?m("Low","low-priority-button","important-priority","low-priority",t):"Low"==t.priority&&m("Normal","normal-priority-button","low-priority","normal-priority",t))}))},i.onblur=()=>{s.notes=i.innerHTML},(()=>{let t=[];const o=document.querySelector(".selected-list").innerHTML,i=document.getElementById("inner-active-list");t=e.filter((function(t){if(t.list==o)return!0})),t.forEach((t=>{(t=>{let e=i.firstChild;const o=document.createElement("button");o.textContent=t.todo,o.classList.add("item"),o.classList.add(`${t.priority.toLowerCase()}-priority`),i.insertBefore(o,e)})(t)})),n(null,i.firstChild),c()})()})()})();